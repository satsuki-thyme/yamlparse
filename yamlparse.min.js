function yamlparse(e){let n=e.split(/\r?\n/),t=[],l=[];for(let e in n)/^[ \t]*(?<!\\)#.*$/.test(n[e])?l[e]="comment":/^[ \t]*$/.test(n[e])?l[e]="blank":l[e]="effect";let a=[];for(let e in n)"effect"===l[e]?a[e]=(n[e].match(/^[ \t]*/)||[])[0].length:a[e]=0;let r={};for(let e=1;e<a.length;e++)a[e-1]<a[e]&&(r[a[e]-a[e-1]]?r[a[e]-a[e-1]]++:r[a[e]]=1);let c=Number(Object.keys(r)[0]);for(let e=1;e<Object.keys(r).length;e++)r[Object.keys(r)[e]]>r[Object.keys(r)[e-1]]&&(c=Number(Object.keys(r)[e]));let p=[];for(let e in a)"effect"===l[e]?p[e]=Math.round(a[e]/c):p[e]=0;let $=0;for(let e=0;e<p.length;e++){if("effect"===l[e]){let l=p[e]-$;$=p[e],e>0&&e<n.length-1&&(l>0&&(t[e]=`${"\n<div>".repeat(l)}\n${n[e].replace(/^[ \t]*/m,"")}`),0===l&&(t[e]=`\n<br>\n${n[e].replace(/^[ \t]*/,"")}`),l<0&&(t[e]=`${"\n</div>".repeat(-l)}\n${n[e].replace(/^[ \t]*/,"")}`)),0===e&&e<n.length-1&&(t[e]=`${"\n<div>".repeat(p[e]+1)}\n${n[e].replace(/^[ \t]*/,"")}`),e>0&&e===n.length-1&&(t[e]=`${"\n</div>".repeat(p[e]+1)}\n${n[e].replace(/^[ \t]*/,"")}\n</div>`),1===n.length&&(t[e]=n[e].replace(/^[ \t]*/,""))}"blank"===l[e]&&(e>0&&e<n.length-1&&("blank"===l[e-1]&&"blank"===l[e+1]&&(t[e]="\n<br>"),"blank"!==l[e-1]&&"blank"===l[e+1]&&(t[e]="\n<div>\n<br>"),"blank"===l[e-1]&&"blank"!==l[e+1]&&(t[e]="\n<br>\n</div>"),"blank"!==l[e-1]&&"blank"!==l[e+1]&&(t[e]="\n<div>\n<br>\n</div>")),0===e&&e<n.length-1&&("blank"===l[e+1]&&(t[e]="\n<div>\n<br>"),"blank"!==l[e+1]&&(t[e]="\n<div>\n<br>\n</div>")),e>0&&e===n.length-1&&("blank"===l[e-1]&&(t[e]="\n<br>\n</div>"),"blank"!==l[e-1]&&(t[e]="\n<div>\n<br>")),1===n.length&&(t[e]="<div>\n<br>\n</div>")),"comment"===l[e]&&(e>0&&e<n.length-1&&("comment"===l[e-1]&&"comment"===l[e+1]&&(t[e]=`\n${n[e]}`),"comment"!==l[e-1]&&"comment"===l[e+1]&&(t[e]=n[e].replace(/^([ \t]*(?<!\\)#.*)/,"\n<pre>$1")),"comment"===l[e-1]&&"comment"!==l[e+1]&&(t[e]=n[e].replace(/^([ \t]*(?<!\\)#.*)/,"\n$1</pre>")),"comment"!==l[e-1]&&"comment"!==l[e+1]&&(t[e]=n[e].replace(/^([ \t]*(?<!\\)#.*)/,"\n<pre>$1</pre>"))),0===e&&e<n.length-1&&("comment"===l[e+1]&&(t[e]=n[e].replace(/^([ \t]*(?<!\\)#.*)/,"\n<pre>$1")),"comment"!==l[e+1]&&(t[e]=n[e].replace(/^([ \t]*(?<!\\)#.*)/,"\n<pre>$1</pre>"))),e>0&&e===n.length-1&&("comment"===l[e-1]&&(t[e]=n[e].replace(/^([ \t]*(?<!\\)#.*)/,"\n$1</pre>")),"comment"!==l[e-1]&&(t[e]=n[e].replace(/^([ \t]*(?<!\\)#.*)/,"\n<pre>$1</pre>"))),1===n.length&&(t[e]=n[e].replace(/^([ \t]*(?<!\\)#.*)/,"\n<pre>$1</pre>"))),"effect"!==l[e]&&(e>0&&e<n.length-1&&("effect"===l[e-1]&&"effect"!==l[e+1]&&(t[e]=`${"\n</div>".repeat($)}${t[e]}`),"effect"!==l[e-1]&&"effect"===l[e+1]&&(t[e]=`${t[e]}${"\n<div>".repeat($)}`),"effect"===l[e-1]&&"effect"===l[e+1]&&(t[e]=`${"\n</div>".repeat($)}${t[e]}${"\n<div>".repeat($)}`)),e>0&&e===n.length-1&&e>0&&e<n.length-1&&"effect"===l[e-1]&&(t[e]=`${"\n</div>".repeat($)}${t[e]}`))}return t.join("").replace(/(#.*)/g,'<span class="comment">$1</span>').replace(/(?<=\n|^)(- )?(\d+):/g,'$1<span class="number">$2</span>:').replace(/(?<=\n|^)((?!.*\\(\\\\)*:).*?)(?<!\\(\\\\)*)(?=:)/g,'<span class="key">$1</span>').replace(/(?<=\n|^)((?!.*\\(?:\\\\)*:).*?)(?<!\\(?:\\\\)*): [ \t]*(.+)(\n|$)/g,'$1:<span class="value">$2</span>$3').replace(/(?<=\n|^)((?!.*\\(?:\\\\)*:).*?)(?<!\\(?:\\\\)*):/g,'$1<span class="colon">:</span>').replace(/(?<=\n|^)- /g,'<span class="bullet">-</span>').replace(/(?<=\n|^)\|/g,'<span class="vertical-bar">|</span>')}