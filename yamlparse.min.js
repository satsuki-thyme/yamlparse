function yamlparse(e){function a(){Array.from(o).map(e=>{let a={};return a[e]=e.replace(/ /g,"-").replace(/^([0-9])/,"n$1"),a})}let l=e.split(/\r?\n/),t=[],s=[],n=l.length-1;for(let e in l)/^[ \t]*(?<!\\(\\\\)*)#.*$/.test(l[e])?s[e]="comment":/^((?!.*\\(\\\\)*:).*?)(?<!\\(\\\\)*)(?=:)/.test(l[e])?s[e]="key":/^[ \t]*(?!.*(\\\\)*#).+$/.test(l[e])?s[e]="value":/^[ \t]*$/.test(l[e])?s[e]="blank":s[e]="other";let c=new Set,p=[];for(let e in l){let a=(l[e].match(/^[ \t]*/)||[])[0].length;l[e]=l[e].replace(/^[ \t]*/,""),"key"===s[e]&&c.add(a),p.push(a)}let r=Array.from(new Set(Array.from(c).reduce((e,a)=>[a,e[1].concat([a-e[0]])],[0,[0]])[1])).filter(e=>0!==e)[0],$=[];for(let e in p)$[e]=Math.round(p[e]/r)+1;let i=0,m=[],u=[],o=new Set,v=0;return new Promise(e=>{function a(){if("key"===s[v]){let e=$[v]-i;i=$[v];let a=`${(l[v].match(/^((?!.*\\(\\\\)*:).*)(?<!\\(\\\\)*)(?=:)/)||[""])[0].replace(/^(- )?(.*)/,'$1<span class="key">$2</span>').replace(/^- /g,'<span class="bullet">-</span> ')}<span class="colon">:</span> `,s=`key-group ${(l[v].match(/^((?!.*\\(\\\\)*:).*)(?<!\\(\\\\)*)(?=:)/)||[""])[0].replace(/ /g,"-").replace(/^([0-9])/,"n$1")}`,c=(l[v].match(/^((?!.*\\(\\\\)*:).*)(?<!\\(\\\\)*)(?=:)/)||[""])[0].replace(/^- /,"");o.add(c);let p=`${(l[v].match(/(?<=:)(.*)$/)||[""])[0].replace(/(.+)/,'<span class="value">$1</span>')}`;if(v>0&&v<n){if(e>0&&(t[v]=`<div class="${s}">${a}${p}`,m.push(c),u.push(s)),0===e){let e="</div>";t[v]=`${e}<div class="${s}">${a}${p}`,m.splice(-1),u.splice(-1),m.push(c),u.push(s)}if(e<0){let l="</div>".repeat(1-e);t[v]=`${l}<div class="${s}">${a}${p}`,m.splice(e),u.splice(e),m.push(c),u.push(s)}}0===v&&v<n&&(t[v]=`<div class="${s}">${a}${p}`,m.push(c),u.push(s)),v>0&&v===n&&(t[v]=`${"</div>".repeat(1-e)}<div class="${s}">${a}${p}${"</div>".repeat($[v]-1)}`,m.splice(e),u.splice(e),m.push(c),u.push(s)),0===n&&(t[v]=`<div class="${s}">${a}${p}${"</div>".repeat($[v]-1)}`,m.push(c).splice(1-$[v]),u.push(s).splice(1-$[v]))}if("value"===s[v]){let e=$[v]-i;i=$[v];let a=`${l[v].replace(/^(- )?(.*)$/,'$1<span class="value">$2</span>').replace(/^- /,'<span class="bullet">-</span> ')}`;v>0&&v<n&&(e>0&&(t[v]=`<div class="value-group">${a}`),0===e&&(t[v]=`<br>${a}`),e<0&&(t[v]=`${"</div>".repeat(-e)}${a}`)),0===v&&v<n&&("value"===s[v+1]&&(t[v]=`<div>${a}`),"value"!==s[v+1]&&(t[v]=`<div>${a}</div>`)),v>0&&v===n&&("value"===s[v-1]&&(t[v]=`<br>${a}${"</div>".repeat($[v]-1)}`),"value"!==s[v-1]&&(t[v]=`<div>${a}${"</div>".repeat($[v]-1)}`)),0===n&&(t[v]=`<div>${a}${"</div>".repeat($[v]-1)}`)}"comment"===s[v]&&(v>0&&v<n&&("comment"===s[v-1]&&"comment"===s[v+1]&&(t[v]=""),"comment"!==s[v-1]&&"comment"===s[v+1]&&(t[v]=""),"comment"===s[v-1]&&"comment"!==s[v+1]&&(t[v]=""),"comment"!==s[v-1]&&"comment"!==s[v+1]&&(t[v]="")),0===v&&v<n&&("comment"===s[v+1]&&(t[v]=""),"comment"!==s[v+1]&&(t[v]="")),v>0&&v===n&&("comment"===s[v-1]&&(t[v]=""),"comment"!==s[v-1]&&(t[v]="")),0===n&&(t[v]="")),"blank"===s[v]&&(v>0&&v<n&&("blank"===s[v-1]&&"blank"===s[v+1]&&(t[v]="<br>"),"blank"!==s[v-1]&&"blank"===s[v+1]&&(t[v]="<br>"),"blank"===s[v-1]&&"blank"!==s[v+1]&&(t[v]="<br>"),"blank"!==s[v-1]&&"blank"!==s[v+1]&&(t[v]="<br>")),0===v&&v<n&&("blank"===s[v+1]&&(t[v]="<br>"),"blank"!==s[v+1]&&(t[v]="<br>")),v>0&&v===n&&("blank"===s[v-1]&&(t[v]="<br>"),"blank"!==s[v-1]&&(t[v]="<br>")),0===n&&(t[v]="<br>")),s[v],v<n?(v++,a()):e(t)}a()}).then(e=>[e.join(""),a()])}